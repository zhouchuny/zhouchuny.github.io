import{b as F}from"./vue-router.b200a2e1.js";import{_ as R,p as H,i as V,u as S,r as z}from"./index.ed91959e.js";import{S as M,O as h}from"./@element-plus.055c406a.js";import{g as O}from"./vue3-video-play.b428b3cb.js";import{d as v,$ as U,H as q,af as n,o as l,c as i,a as e,W as t,Q as a,M as D,u as o,V as y,F as N,a5 as T,aw as E,ax as Q}from"./@vue.81368508.js";import"./pinia.d9db222a.js";import"./axios.7fb621f7.js";import"./element-plus.64ef7e17.js";import"./lodash-es.3b21de99.js";import"./@vueuse.35cfb4af.js";import"./@popperjs.db7aa398.js";import"./@ctrl.7c1038cf.js";import"./dayjs.4e3ecd0b.js";import"./crypto-js.1a995817.js";import"./async-validator.b01be3a9.js";import"./memoize-one.c70541e4.js";import"./escape-html.8a1e20fb.js";import"./normalize-wheel-es.14f1d88d.js";import"./@floating-ui.184cf960.js";import"./pinia-plugin-persist.1f805131.js";const d=r=>(E("data-v-638a55ef"),r=r(),Q(),r),W={class:"main"},$={class:"top"},j={class:"play"},A={class:"play-left"},G={class:"play-right"},J={class:"tabpanel-title"},K={class:"icon"},X=d(()=>e("p",{class:"text"},"\u8BFE\u7A0B",-1)),Y={class:"course-container"},Z={class:"courseName"},ee={class:"tabpanel-title"},te={class:"icon"},ae=d(()=>e("p",{class:"text"},"\u7AE0\u8282",-1)),se={class:"chapter-container"},oe={title:"item.chapterName"},le=d(()=>e("div",{class:"video-itemIcon"},[e("i",{class:"el-icon-video-camera"})],-1)),ie={class:"item-name"},re={class:"tabpanel-title"},ce={class:"icon"},ne=d(()=>e("p",{class:"text"},"\u7B14\u8BB0",-1)),de={__name:"CoursePlay",setup(r){let w=F(),{courseId:_,chapterId:p}=w.params,b=v({}),I=v([]);const g=U({width:"100%",height:"100%",color:"#409eff",title:"",src:"",muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!1,loop:!1,mirror:!1,ligthOff:!1,volume:.3,control:!0,controlBtns:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]});q(()=>{H({courseId:_,chapterId:p}).then(s=>{b.value=s.data.chapterInfo,I.value=s.data.courseInfo.bizCourseChapters,g.src=s.data.playInfo.playInfoList[0].playURL})});const B=s=>{V({memberId:S().userInfo.id,courseId:_,chapterId:p}).then(C=>{s.target.currentTime=C.data.data.lastTime})};let u=v(0);const L=s=>{u.value++,u.value>=10&&(z({chapterId:p,courseId:_,memberId:S().userInfo.id,lastTime:s.target.currentTime}),u.value=0)};return(s,C)=>{const c=n("el-icon"),m=n("el-tab-pane"),P=n("el-empty"),k=n("el-tabs");return l(),i("div",W,[e("div",$,[t(c,null,{default:a(()=>[t(o(M))]),_:1})]),e("div",j,[e("div",A,[t(o(O),D(o(g),{onLoadstart:B,onTimeupdate:L}),null,16)]),e("div",G,[t(k,{"tab-position":"right"},{default:a(()=>[t(m,null,{label:a(()=>[e("div",J,[e("div",K,[t(c,null,{default:a(()=>[t(o(h))]),_:1})]),X])]),default:a(()=>[e("div",Y,[e("div",Z,y(o(b).chapterName),1)])]),_:1}),t(m,null,{label:a(()=>[e("div",ee,[e("div",te,[t(c,null,{default:a(()=>[t(o(h))]),_:1})]),ae])]),default:a(()=>[e("div",se,[(l(!0),i(N,null,T(o(I),f=>(l(),i("dl",{class:"list",key:f.id},[e("dt",oe,y(f.chapterName),1),(l(!0),i(N,null,T(f.children,x=>(l(),i("dd",{class:"active",key:x.id},[le,e("div",ie,"\u89C6\u9891\uFF1A"+y(x.chapterName),1)]))),128))]))),128))])]),_:1}),t(m,{class:"note"},{label:a(()=>[e("div",re,[e("div",ce,[t(c,null,{default:a(()=>[t(o(h))]),_:1})]),ne])]),default:a(()=>[t(P,{description:"\u65E0\u7B14\u8BB0"})]),_:1})]),_:1})])])])}}};var ke=R(de,[["__scopeId","data-v-638a55ef"]]);export{ke as default};
